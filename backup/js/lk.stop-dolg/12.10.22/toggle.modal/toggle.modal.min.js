!function(e){"function"!=typeof e.matches&&(e.matches=e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||function(e){for(var t=this,o=(t.document||t.ownerDocument).querySelectorAll(e),s=0;o[s]&&o[s]!==t;)++s;return Boolean(o[s])}),"function"!=typeof e.closest&&(e.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null})}(window.Element.prototype),window.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".js-open-modal"),t=document.querySelector(".js-overlay-modal"),o=document.querySelectorAll(".js-modal-close"),s=document.querySelector("button.tab__button[data-modal]"),a=document.querySelector('input[name="rating"]');function c(){s&&(s.onclick=(()=>{s.classList.add("active")}),s.classList.remove("active"))}e.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();let s=this.getAttribute("data-modal"),l=document.querySelector('.toggle-modal[data-modal="'+s+'"]');if(l.classList.add("active"),t.classList.add("active"),l.classList.contains("active")){let e=l.querySelector("textarea"),s=l.querySelector(".form-modal__tooltip"),i=l.querySelector(".form-modal__tooltip span"),r=l.querySelector(".js-open-modal-success-unsuccess");e&&(e.addEventListener("input",function(){i.innerText=this.value.length,e.value.length>=5&&(s.removeAttribute("style"),e.removeAttribute("style"))}),r.addEventListener("click",function(o){o.preventDefault();let c=this.getAttribute("data-modal"),r=document.querySelector('.toggle-modal__successfully[data-modal="'+c+'"]');if(e.value.length>=5){l.classList.add("remove"),setTimeout(()=>{l.classList.remove("active"),l.classList.remove("remove"),r.classList.add("active")},300),t.addEventListener("click",function(){r.classList.add("remove"),setTimeout(()=>{r.classList.remove("active"),r.classList.remove("remove")},300)}),setTimeout(()=>{e.value="",i.innerText="0",a.checked=!1},1e3);let o=new FormData;o.append("action","sendRating"),o.append("rating",$("input[name=rating]:checked").val()),o.append("message",$("#formModalComment").val()),fetch("/assets/ajax.php",{method:"POST",body:o}).then(function(e){if(200===e.status)return e.json()})}else s.style.cssText="\n                visibility: visible; \n                opacity: 1;\n                bottom: 0",e.style.cssText="border: 1px solid #fe4f3e;"})),o.forEach(o=>{o.addEventListener("click",function(){let o=this.closest(".toggle-modal");o.classList.add("remove"),t.classList.add("remove"),setTimeout(()=>{o.classList.remove("active"),o.classList.remove("remove"),t.classList.remove("active"),t.classList.remove("remove"),c(),e&&(s.removeAttribute("style"),e.removeAttribute("style"))},300)})}),document.body.addEventListener("keyup",function(e){27===e.keyCode&&(document.querySelector(".toggle-modal.active").classList.remove("active"),document.querySelector(".toggle-modal-bg").classList.remove("active"))},!1),t.addEventListener("click",()=>{l.classList.add("remove"),t.classList.add("remove"),setTimeout(()=>{l.classList.remove("active"),l.classList.remove("remove"),t.classList.remove("active"),t.classList.remove("remove"),c(),e&&(s.removeAttribute("style"),e.removeAttribute("style"))},300)})}})}),c()});
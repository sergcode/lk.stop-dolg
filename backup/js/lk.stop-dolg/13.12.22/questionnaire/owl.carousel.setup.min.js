!function(t){const e=t(".owl-carousel");let n=t("h1"),a=!1;e.owlCarousel({animateOut:"fadeOut",animateIn:"fadeIn",items:1,lazyLoad:!0,loop:!1,margin:10,nav:!0,checkVisible:!1,mouseDrag:!1,touchDrag:!1,smartSpeed:450,autoHeight:!0,navClass:["button button__middle button--green button__prev","button button__middle button--green button__next"],navText:["Предыдущая страница","Следующая страница"],onInitialized:function(){t(".owl-dots").after('<div class="pagination-wrapper__number-pages"></div>'),t(".pagination-wrapper__number-pages").text("Страница 1 из "+this.items().length),t(".owl-nav").append('<button class="button button__middle button--green" type="button" name="sendQuestionnaire" style="display: none;">Отправить анкету</button>')}}),e.on("changed.owl.carousel",function(o){let i=t(".owl-dot"),s=t(".owl-dot.active"),l=t(".owl-item.active").find(".questionnaire__form_wrapper"),r=t(".button__next"),u=t(".warning-popup"),d=t(".warning-popup__wrapper"),b=t("form"),c=t('.button[name="sendQuestionnaire"]'),p=t(this).find(".owl-item.active").index();i.hasClass("active")&&(s.removeClass("filled"),s.prevAll().addClass("filled"),s.nextAll().removeClass("filled")),t(".pagination-wrapper__number-pages").text("Страница "+ ++o.page.index+" из "+o.item.count),r.hasClass("disabled")?c.css("display","block"):c.css("display","none"),d.html("<p>Уважаемый клиент, не вся информация на странице заполнена,<br/>вы уверены, что хотите перейти к следующему шагу?</p>"),d.append('\n            <div class="warning-popup__button">\n                <button class="button button__middle button__white" name="nextPage" role="button">\n                  Всё равно перейти к следующей странице\n                </button>\n                <button class="button button__middle button__white" name="continueFilling" role="button">\n                  Продолжить заполнение этой страницы\n                </button>\n            </div>\n        ');let m=t('button[name="continueFilling"]');if(t('.button[name="nextPage"]').on("click",()=>{a=!0,t(this).trigger("next.owl.carousel"),u.removeClass("visible"),t("main").removeAttr("style")}),a)return void(a=!1);const _=()=>{if(p<o.page.index)return u.addClass("visible"),u.removeAttr("style"),e.trigger("to.owl.carousel",[p,0]),u.hasClass("visible")&&t("main").css({opacity:"0.6","pointer-events":"none"}),m.on("click",()=>{u.removeClass("visible"),t("main").removeAttr("style")}),!1;u.removeClass("visible")};t.each(l,(e,n)=>{let a=t(n).find(".questionnaire__form_input"),o=t(n).find(".questionnaire__form_select"),i=t(n).find(".switches__checkbox"),s=t(n).find(":radio"),l=[a,o,i,s],r=!0;return t.each(l,function(e,n){t.each(n,function(e,n){if(t(n).attr("disabled")){c.css("display","none"),d.html("<p>Уважаемый клиент, данные в заполненной анкете не подлежат<br/>изменению и представлены только для ознакомления.</p>"),d.append('\n                          <div class="warning-popup__button">\n                            <button class="button button__little button__white" name="thanksIGotIt" role="button">\n                              Спасибо, я понял\n                            </button>\n                          </div>\n                        '),u.addClass("visible"),u.removeAttr("style"),u.hasClass("visible")&&t("main").css({opacity:"0.6","pointer-events":"none"}),t('button[name="thanksIGotIt"]').on("click",()=>{u.removeClass("visible"),t("main").removeAttr("style"),setTimeout(()=>{u.remove()},300)})}})}),t.each(a,function(e,n){(""==t(n).val()&&!t(n).attr("disabled")||" "==t(n).val()&&!t(n).attr("disabled"))&&_()}),t.each(o,function(e,n){""!=t(n).val()||t(n).attr("disabled")||_()}),t.each(i,function(e,n){!1!==t(n).prop("checked")||t(n).attr("disabled")||_()}),t.each(s,function(){let e=t(this).attr("name");!r||t(`:radio[name="${e}"]:checked`).length||t(`:radio[name="${e}"]`).parent(".jq-radio").hasClass("disabled")||(_(),r=!1)}),r}),5===o.page.index&&"formCustomerProfile"===b.attr("id")?n.text("АНКЕТА (защита прав заёмщика)"):"formCustomerProfile"===b.attr("id")&&n.text("АНКЕТА КЛИЕНТА"),t("html, body").animate({scrollTop:t(this).offset().top-80},{duration:500})})}(jQuery);